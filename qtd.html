<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Quantidade de Holders</title>
</head>
<body>
  <h1>Quantidade de Holders</h1>
  <p id="holders">Carregando...</p>

  <script>
    // URL da página do token no BscScan
    const tokenUrl = 'https://bscscan.com/token/0x893535ED1b5C6969E62a10bABfED4F5fF8373278#balances';
    
    // Utiliza o AllOrigins para contornar problemas de CORS:
    const proxyUrl = 'https://api.allorigins.hexocode.repl.co/get?disableCache=true&url=';
    const fetchUrl = proxyUrl + encodeURIComponent(tokenUrl);
    
    fetch(fetchUrl)
      .then(response => response.json())
      .then(data => {
        const htmlContent = data.contents;
        // Cria um objeto DOM a partir do HTML retornado
        const parser = new DOMParser();
        const doc = parser.parseFromString(htmlContent, 'text/html');

        // --- EXTRAÇÃO DO NÚMERO DE HOLDERS ---
        // Essa parte depende da estrutura atual da página do BscScan.
        // Por exemplo, se o número de Holders estiver em um elemento que contenha o texto "Holders"
        // seguido pelo número, podemos procurar por esse padrão.
        //
        // Aqui, vamos procurar por todos os elementos e testar se o texto contém a palavra "Holders".
        // Em seguida, usamos uma expressão regular para extrair a primeira sequência numérica encontrada.
        let holdersText = null;
        const allElements = doc.querySelectorAll('*');
        allElements.forEach(el => {
          if (el.textContent.includes('Holders')) {
            // Exemplo de texto: "Holders 123,456" ou "Holders\n123,456"
            const match = el.textContent.match(/[\d,]+/);
            if (match) {
              holdersText = match[0];
            }
          }
        });
        
        if (holdersText) {
          document.getElementById('holders').innerText = holdersText;
        } else {
          document.getElementById('holders').innerText = 'Número de Holders não encontrado.';
        }
      })
      .catch(error => {
        document.getElementById('holders').innerText = 'Erro na requisição: ' + error;
      });
  </script>
</body>
</html>
