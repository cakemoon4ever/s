<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Age da Transação</title>
</head>
<body>
  <h1>Last burn: </h1>
  <p id="age">Carregando...</p>

  <script>
    // URL da página no BscScan (para o endereço especificado)
    const tokenUrl = 'https://bscscan.com/token/0x893535ED1b5C6969E62a10bABfED4F5fF8373278?a=0x000000000000000000000000000000000000dead';
    
    // Usamos o proxy cors-anywhere (lembre-se de ativá-lo em https://cors-anywhere.herokuapp.com/corsdemo)
    const proxyUrl = 'https://cors-anywhere.herokuapp.com/';
    const fetchUrl = proxyUrl + tokenUrl;

    fetch(fetchUrl)
      .then(response => {
        if (!response.ok) {
          throw new Error('Erro HTTP: ' + response.status);
        }
        return response.text();
      })
      .then(html => {
        // Cria um DOM virtual para analisar o HTML retornado
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, 'text/html');

        // Seleciona a primeira linha da tabela de transações
        const firstRow = doc.querySelector("table tbody tr");
        if (!firstRow) {
          document.getElementById('age').innerText = "Transação não encontrada.";
          return;
        }

        // Obtém todas as células (<td>) da linha
        const cells = firstRow.querySelectorAll("td");
        // Supondo que a coluna "Age" seja a terceira (índice 2)
        if (cells.length < 3) {
          document.getElementById('age').innerText = "Estrutura da tabela não esperada.";
          return;
        }
        const ageCell = cells[2];

        // Captura o texto da célula e exibe somente o valor da "Age"
        const ageText = ageCell.innerText.trim();
        document.getElementById('age').innerText = ageText;
      })
      .catch(error => {
        document.getElementById('age').innerText = "Erro: " + error;
      });
  </script>
</body>
</html>
