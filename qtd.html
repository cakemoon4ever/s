<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Lista de Holders do Token</title>
</head>
<body>
  <h1>Holders do Token</h1>
  <p id="holderCount">Carregando...</p>
  <ul id="holderList"></ul>

  <script>
    // Substitua 'YourApiKeyToken' pela sua chave de API do BscScan
    const apiKey = 'NABPG1J8DPTD6NMNU4WZIT4GCB258666UQ';
    const contractAddress = '0x893535ED1b5C6969E62a10bABfED4F5fF8373278';
    const page = 1;
    const offset = 10; // Número de registros por página

    // Monta a URL da API
    const apiUrl = `https://api.bscscan.com/api?module=token&action=tokenholderlist&contractaddress=${contractAddress}&page=${page}&offset=${offset}&apikey=${apiKey}`;

    fetch(apiUrl)
      .then(response => response.json())
      .then(data => {
        if (data.status === "1") {
          const holders = data.result;
          document.getElementById('holderCount').innerText = `Holders retornados: ${holders.length}`;
          
          const ul = document.getElementById('holderList');
          holders.forEach(holder => {
            // Cada objeto normalmente contém os campos TokenHolderAddress e TokenHolderQuantity
            const li = document.createElement('li');
            li.innerText = `Endereço: ${holder.TokenHolderAddress} - Quantidade: ${holder.TokenHolderQuantity}`;
            ul.appendChild(li);
          });
        } else {
          document.getElementById('holderCount').innerText = 'Erro: ' + data.message;
        }
      })
      .catch(error => {
        document.getElementById('holderCount').innerText = 'Erro na requisição: ' + error;
      });
  </script>
</body>
</html>
